% !TEX spellcheck = en_US
% !TEX encoding = UTF-8

\documentclass[a4paper, 12pt]{article}

\usepackage{scrextend}
\usepackage{graphicx}
\usepackage[tuenc]{fontspec}
\usepackage{xcolor}

% \usepackage[hidelinks, urlcolor=blue]{hyperref}
\usepackage[
  colorlinks=true,
  linkcolor={red!30!black},
  citecolor={blue!50!black},
  urlcolor={blue!80!black}
]{hyperref}
\usepackage{csquotes}
\usepackage[british]{babel}
\usepackage[backend=biber, sorting=none, dateabbrev=false]{biblatex}

\usepackage[bindingoffset=1.5cm, textwidth=15cm]{geometry}

\usepackage{tikz}
\usepackage{amsmath, amsfonts, amssymb}

\usepackage{pgfgantt}
\usepackage{subcaption}
\usepackage{float}
\usepackage{array}
\usepackage{enumitem}
\usepackage{multirow}
\usepackage{makecell}
\usepackage{hhline}
\usepackage{fixfoot}
\usepackage{bm}
\usepackage[acronym, toc, numberline]{glossaries}
\usepackage[format=plain,
            labelfont={bf,it},
            textfont=it]{caption}

\usetikzlibrary{positioning}

\setmainfont{CMU Serif}
\setlength{\parskip}{\baselineskip}

\newcolumntype{P}[1]{>{\raggedright\arraybackslash}p{#1}}

% Fix bibliography parameters for overfull
\setcounter{biburlnumpenalty}{5000}
\setcounter{biburllcpenalty}{7000}
\setcounter{biburlucpenalty}{8000}

% Bibliography
\addbibresource{../bibliography/mendeley.bib}

\newcommand{\secc}{\ifdef{\chapter}{\chapter}{\section}}
\newcommand{\ssecc}{\ifdef{\chapter}{\section}{\subsection}}
\newcommand{\sssecc}{\ifdef{\chapter}{\subsection}{\subsubsection}}

\newcommand{\seccn}{\ifdef{\chapter}{chapter}{section}}
\newcommand{\sseccn}{\ifdef{\chapter}{section}{subsection}}
\newcommand{\ssseccn}{\ifdef{\chapter}{subsection}{subsubsection}}

\newcommand{\addphantomsec}[2]{%
  \cleardoublepage
  \phantomsection
  \addcontentsline{toc}{#2}{\numberline{}#1}
  \secc*{#1}
}

% Reduce the table of contents length
\makeatletter
\pretocmd{\secc}{\addtocontents{toc}{\protect\addvspace{15\p@}}}{}{}
\pretocmd{\ssecc}{\addtocontents{toc}{\protect\addvspace{-5\p@}}}{}{}
\pretocmd{\sssecc}{\addtocontents{toc}{\protect\addvspace{-9\p@}}}{}{}
\makeatother

\input{glossary_definitions.tex}

%%%%%%%%%%%% BEGIN OF DOCUMENT %%%%%%%%%%%%%%%%%%
\begin{document}

% Title page can be commented to remove it
\begin{titlepage}
  \centering
  \vspace{1.5cm}
  {\huge \textbf{\textsc{Unlock the potential of medical imaging data using deep learning}} \par}
  \vspace{1cm}
  {\Large \textit{Joan Marcè i Igual}\par}
  \vfill
  {Director: Dr.~Benjamin \textsc{Haibe-Kains} \par}
  {Tutor: Dr.~Maria José \textsc{Serna Iglesias} \par}
    
  \vfill

  \includegraphics[width=0.3\textwidth]{images/logo_FIB}\par
  
  \vspace{.2cm}
  
  \includegraphics[width=0.2\textwidth]{images/logo_upc}\par
  
  \vfill
  
  % Bottom of the page
  {\Large Computer Science Specialization \par}
  {\LARGE Facultat d'Informàtica de Barcelona \par}
  {\LARGE Universitat Politècnica de Catalunya \par}
  {\LARGE 2018 \par}
\end{titlepage}

\tableofcontents

\cleardoublepage
\phantomsection
\addcontentsline{toc}{\seccn}{\numberline{}List of Figures}
\listoffigures

\cleardoublepage
\phantomsection
\addcontentsline{toc}{\seccn}{\numberline{}List of Tables}
\listoftables

\pagebreak

% Just comment this lines to enable/disable some parts of the document
\include{001_context}
\include{002_planning}
\include{003_design}

\pagebreak

% \printglossary[type=\acronymtype]
\printglossaries

\addphantomsec{References}{\seccn}
\printbibliography[heading=none]{}

\end{document}