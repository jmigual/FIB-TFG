% !TEX root = main.tex


\section{Project Planning}

\subsection{Planning and scheduling}

The estimated project duration is of about 4 months. The project starts on Wednesday 14th of 
February, 2018 and the deadline is on Wednesday 20th June, 2018, the day before leaving the 
Benjamin Haibe-Kains Bioinformatics and Computational Genomics Laboratory.

During the development of the project there will be weekly lab meetings with all the
members of the laboratory where the development of the project of different lab members will
be discussed. Moreover, there will be a weekly meeting with prof. Benjamin Haibe-Kains to
discuss the work done and how to improve the project.

It must be noticed that the initial planning can be revised and updated as a result of the 
project's evolution and feedback received from the lab members. 

\subsection{Task description}

\subsubsection{Acquire background in Convolutional Neural Networks}

The first step is to acquire a better understanding in how a convolutional neural network works.
Therefore, in the las month I've been learning about Convolutional Neural Networks and how they
can be used. 
I started with basic statistics applied to \emph{Machine Learning} by reading the book 
\emph{The Elements of Statistical Learning}.~\cite{ElementsStatisticalLearning}

Then, I continued by doing three courses made by \href{https://www.deeplearning.ai}{Deeplearning.ai}
and published at Coursera~\cite{Coursera} related to Convolutional Neural Networks:
\begin{itemize}
  \item \href{https://www.coursera.org/learn/neural-networks-deep-learning}{Neural Networks and 
    Deep Learning}~\cite{Coursera:NN}: Where the basic elements of a neural network and how
    to train it are explained.

  \item \href{https://www.coursera.org/learn/deep-neural-network}{Improving Deep Neural Networks: 
    Hyperparameter tuning, Regularization and Optimization}~\cite{Coursera:NNHyperparameters}: 
    In this course it's shown the importance of hyperparameters and how each one works. 
    This way then it can be easier to design a proper network. Also, the different methods 
    of regularization are explained too, so overfitting can be avoided.

  \item \href{https://www.coursera.org/learn/convolutional-neural-networks}{Convolutional Neural 
    Networks}~\cite{Coursera:CNN}:
    How the \emph{convolution} operation works and why it's used in Machine Learning. 
    Different methods of using a Convolutional Neural Network, like face recognition or 
    object detection, are taught too.
\end{itemize}

All the tasks where done in three weeks.

\subsubsection{Get familiar with survival models like DeepSurv}

Survival Prediction models are a bit different from the typical Machine Learning problem. 
In this case, the desired output values are not the event indicator \( E \) and the time
interval \( T \). What we want to obtain is the survival function \( S(t) \) or the 
hazard function \( \lambda(t) \).

DeepSurv is one of the machine learning papers using a survival model, in this case the
Cox Proportional Hazards model which is not the same I will be planning to use.

To see how to properly use a survival model in a deep learning application i should fully 
understand how this is applied in the construction of the DeepSurv neural network. During 
the task I should compare the code implementation with the theoretical models so this way
I can see how to properly use \emph{vectorization} to speed-up computation
\cites{Cox}{DeepSurv}.

This process will take around two weeks.

\subsubsection{Preprocess data}

The input data for this project are:
\begin{itemize}
  \item RAW data from CT scans. There are around 88 slices for each patient, each one of 
  a size of \( 512 \times 512 \) pixels.
  \item Tumour annotations for the CT scans. For each RAW scan there's another slice which
  is a mask of 1s and 0s where the value is 1 if there's a tumour in that pixel.
  \item Clinical data. Which has information for each patient such as:
  \begin{itemize}
    \item Age
    \item Gender
    \item Smoking Pack Years
    \item Treatment
    \item Survival time
    \item Survival event
  \end{itemize}
\end{itemize}

All these data needs to be processed and for each CT scan, the 3D slice of the tumour needs to
be extracted and the pixel values need to be normalized (setting the variance to 1 and the 
mean to 0). These operations can be done in the period of a week.

\subsubsection{Get familiar with Tensorflow}

To be able to build a proper deep learning network a fully understanding of the framework 
is required. Also, Tensorflow is a big piece of software and it offers many possibilities.

Starting by just being able to run simple code and doing the tutorials. Then,
starting to build different models and learn how to use the different API methods.
Moreover, we have to understand how the data flow works and how to use the tensors to 
compute operations and create a computing graph.

This task won't take more than a week.

\subsubsection{Build shallow siamese network}

Since the final design will be a siamese network the first step is to design one of the 
sisters in the network see \autoref{fig:siamese}. 

\begin{figure}
  \centering
  \input{drawings/siamese_network.tikz.tex}
  \caption{Siamese Network basic structure \label{fig:siamese}}
\end{figure}

The design is one of the most important parts of the project, since it will have a huge
impact in the final results. It will take around 4 weeks to complete and more or less
it will be a trial and error process to try to see which architecture for the sister
network is bes suited to solve the problem.

The task will take four weeks to complete

\subsubsection{Build deep siamese network}

\subsubsection{Compare the model against other ones}

\subsection{Estimated time}

In \autoref{tab:time} an estimation of the number of hours dedicated to each task is shown.

\begin{table}
  \centering{}
  \begin{tabular}{|l|r|}
    \hline
    Task & Estimated duration (h) \\ \hline \hline
    Acquire background in CNN & 105 \\ \hline
    Get familiar with survival models & 35 \\ \hline
    Preprocess data & 35 \\ \hline
    Build shallow siamese network & 140 \\
  
    \hline \hline
    \textbf{Total} & 450 \\
    \hline
  \end{tabular}
  \caption{Estimated time for each task \label{tab:time}}
\end{table}

\subsection{Gantt chart}

\autoref{fig:gantt} shows the planning of the different tasks of the project in a Gantt chart.

\begin{figure}
  \centering{}
  \def\gantttext{4cm}
  \begin{ganttchart}[
      time slot format=isodate,
      x unit = .9mm,
      y unit title = 0.7cm,
      y unit chart = 0.6cm,
      group label font = \tiny\bf,
      title label font = \tiny,
      bar label font = \tiny,
      vgrid,
      hgrid,
      calendar week text = {\startday},
      link bulge = 2,
    ]{2018-02-14}{2018-06-29}
    \gantttitlecalendar{year, month=shortname, week} \\


    % Start gantt itself
    \ganttgroup{Preamble}{2018-02-14}{2018-03-18} \\
    \ganttbar{Getting started}{2018-02-14}{2018-02-18} \\
    \ganttlinkedbar{Learn about CNN}{2018-02-19}{2018-03-09} \\
    \ganttlinkedbar{Learn about DeepSurv}{2018-03-10}{2018-03-16} \\

    \ganttgroup{Regression model}{2018-03-19}{2018-04-08} \\
    \ganttbar{Analysis}{2018-03-19}{2018-03-25} \\
    \ganttlinkedbar{Implementation}{2018-03-26}{2018-04-01} \\
    \ganttlinkedbar{Test}{2018-04-01}{2018-04-09} \\

    \ganttgroup{Classification model}{2018-04-09}{2018-04-29} \\

    \ganttgroup{Compare models}{2018-04-30}{2018-05-27} \\

    \ganttgroup{Final Stage}{2018-06-11}{2018-06-29} \\
    \ganttbar{End project}{2018-06-11}{2018-06-17} \\
    \ganttbar{Manual}{2018-06-18}{2018-06-24} \\
    \ganttbar{Presentation}{2018-06-25}{2018-06-29} \\

  \end{ganttchart}
  \caption{Gantt chart of the project \label{fig:gantt}}
\end{figure}

\subsection{Alternatives and action plan}


\subsubsection{Complexity of the built model}

\subsubsection{Bugs}

\subsubsection{Unavailability of SharcNet}

\subsubsection{Training times}
